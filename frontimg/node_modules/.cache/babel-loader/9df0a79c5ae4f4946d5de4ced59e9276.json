{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/apple/Desktop/frontimg/src/Home.js\",\n    _s = $RefreshSig$();\n\nimport { findAllByTitle } from '@testing-library/react';\nimport axios from 'axios';\nimport React, { useState, useEffect, useRef } from 'react';\n\nfunction Home() {\n  _s();\n\n  const [imagelist, setimagelist] = useState([]);\n  const [upimage, setupimage] = useState();\n  useEffect(() => {\n    axios.get(`http://localhost:8000/`, {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then( //response =>console.log(response.data.tasks),\n    //response => setUsers(response.data.tasks),\n    response => {\n      //console.log(response.data)\n      setimagelist(response.data);\n    });\n  }, []);\n\n  const handleImageChange = e => {\n    //this.setState({\n    //image: e.target.files[0]\n    //})\n    console.log(e.target.files[0]);\n    setupimage(e.target.files[0]);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    let form_data = new FormData();\n    form_data.append('img', upimage);\n    console.log(form_data); //form_data.append('title', this.state.title);\n    //form_data.append('content', this.state.content);\n\n    let url = 'http://localhost:8000/';\n    axios.post(url, form_data, {\n      headers: {\n        'content-type': 'multipart/form-data'\n      }\n    }).then(res => {\n      console.log(res.data);\n    }).catch(err => console.log(err));\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"sssaas\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }, this), imagelist.map(image => /*#__PURE__*/_jsxDEV(\"img\", {\n      src: image.img\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 17\n    }, this)), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        id: \"image\",\n        accept: \"image/png, image/jpeg\",\n        onChange: handleImageChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Home, \"L9Z0rt25xqNZB/cp5zcw4ema+Bg=\");\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["/Users/apple/Desktop/frontimg/src/Home.js"],"names":["findAllByTitle","axios","React","useState","useEffect","useRef","Home","imagelist","setimagelist","upimage","setupimage","get","headers","then","response","data","handleImageChange","e","console","log","target","files","handleSubmit","preventDefault","form_data","FormData","append","url","post","res","catch","err","map","image","img"],"mappings":";;;;;;AAAA,SAASA,cAAT,QAA+B,wBAA/B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,MAArC,QAAmD,OAAnD;;AAEA,SAASC,IAAT,GAAgB;AAAA;;AAEZ,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BL,QAAQ,CAAC,EAAD,CAA1C;AAEA,QAAM,CAACM,OAAD,EAAUC,UAAV,IAAwBP,QAAQ,EAAtC;AAGAC,EAAAA,SAAS,CAAC,MAAM;AACZH,IAAAA,KAAK,CAACU,GAAN,CAAW,wBAAX,EAAmC;AAEjCC,MAAAA,OAAO,EAAE;AACL,wBAAgB;AADX;AAFwB,KAAnC,EAUCC,IAVD,EAWI;AACA;AACAC,IAAAA,QAAQ,IAAG;AACP;AACAN,MAAAA,YAAY,CAACM,QAAQ,CAACC,IAAV,CAAZ;AAKH,KApBL;AAqBH,GAtBQ,EAuBR,EAvBQ,CAAT;;AAyBA,QAAMC,iBAAiB,GAAIC,CAAD,IAAO;AAC7B;AACE;AACF;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYF,CAAC,CAACG,MAAF,CAASC,KAAT,CAAe,CAAf,CAAZ;AACAX,IAAAA,UAAU,CAACO,CAAC,CAACG,MAAF,CAASC,KAAT,CAAe,CAAf,CAAD,CAAV;AACD,GANH;;AASE,QAAMC,YAAY,GAAIL,CAAD,IAAO;AAC1BA,IAAAA,CAAC,CAACM,cAAF;AAEA,QAAIC,SAAS,GAAG,IAAIC,QAAJ,EAAhB;AACAD,IAAAA,SAAS,CAACE,MAAV,CAAiB,KAAjB,EAAwBjB,OAAxB;AAEAS,IAAAA,OAAO,CAACC,GAAR,CAAYK,SAAZ,EAN0B,CAO1B;AACA;;AACA,QAAIG,GAAG,GAAG,wBAAV;AACA1B,IAAAA,KAAK,CAAC2B,IAAN,CAAWD,GAAX,EAAgBH,SAAhB,EAA2B;AACzBZ,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT;AADgB,KAA3B,EAKKC,IALL,CAKUgB,GAAG,IAAI;AACXX,MAAAA,OAAO,CAACC,GAAR,CAAYU,GAAG,CAACd,IAAhB;AACD,KAPL,EAQKe,KARL,CAQWC,GAAG,IAAIb,OAAO,CAACC,GAAR,CAAYY,GAAZ,CARlB;AASD,GAnBD;;AA0BF,sBAEI;AAAA,4BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,EAGKxB,SAAS,CAACyB,GAAV,CAAeC,KAAD,iBACX;AAAK,MAAA,GAAG,EAAEA,KAAK,CAACC;AAAhB;AAAA;AAAA;AAAA;AAAA,YADH,CAHL,eAOI;AAAM,MAAA,QAAQ,EAAEZ,YAAhB;AAAA,8BACA;AAAO,QAAA,IAAI,EAAC,MAAZ;AACO,QAAA,EAAE,EAAC,OADV;AAEO,QAAA,MAAM,EAAC,uBAFd;AAEsC,QAAA,QAAQ,EAAEN,iBAFhD;AAEmE,QAAA,QAAQ;AAF3E;AAAA;AAAA;AAAA;AAAA,cADA,eAKA;AAAO,QAAA,IAAI,EAAC;AAAZ;AAAA;AAAA;AAAA;AAAA,cALA;AAAA;AAAA;AAAA;AAAA;AAAA,YAPJ;AAAA,kBAFJ;AAyBD;;GA5FMV,I;;KAAAA,I;AA8FP,eAAeA,IAAf","sourcesContent":["import { findAllByTitle } from '@testing-library/react';\nimport axios from 'axios';\nimport React, { useState, useEffect, useRef } from 'react';\n\nfunction Home() {\n\n    const [imagelist, setimagelist] = useState([])\n\n    const [upimage, setupimage] = useState()\n\n    \n    useEffect(() => {\n        axios.get(`http://localhost:8000/`,{\n          \n          headers: {\n              'Content-Type': 'application/json',\n              \n              \n              \n          }\n        },\n        )\n        .then(\n            //response =>console.log(response.data.tasks),\n            //response => setUsers(response.data.tasks),\n            response =>{\n                //console.log(response.data)\n                setimagelist(response.data);\n                \n              \n            \n            \n            },)\n    }\n    ,[])\n\n    const handleImageChange = (e) => {\n        //this.setState({\n          //image: e.target.files[0]\n        //})\n        console.log(e.target.files[0])\n        setupimage(e.target.files[0])\n      };\n\n    \n      const handleSubmit = (e) => {\n        e.preventDefault();\n        \n        let form_data = new FormData();\n        form_data.append('img', upimage);\n\n        console.log(form_data)\n        //form_data.append('title', this.state.title);\n        //form_data.append('content', this.state.content);\n        let url = 'http://localhost:8000/';\n        axios.post(url, form_data, {\n          headers: {\n            'content-type': 'multipart/form-data'\n          }\n        })\n            .then(res => {\n              console.log(res.data);\n            })\n            .catch(err => console.log(err))\n      };\n\n\n\n\n\n \n    return (\n      \n        <>\n            <p>sssaas</p>\n\n            {imagelist.map((image) => (\n                <img src={image.img}  />\n               \n            ))}\n            <formã€€onSubmit={handleSubmit}>\n            <input type=\"file\"\n                   id=\"image\"\n                   accept=\"image/png, image/jpeg\" onChange={handleImageChange} required/>\n\n            <input type=\"submit\"/>\n\n            </form>\n\n\n        </>\n\n        \n        \n        \n    );\n  }\n  \n  export default Home;"]},"metadata":{},"sourceType":"module"}